$(function(){function a(){var a=navigator.userAgent,b=a.indexOf("Mozilla/5.0")>-1&&a.indexOf("Android ")>-1&&a.indexOf("AppleWebKit")>-1&&-1===a.indexOf("Chrome");b&&$("html").addClass("android-browser")}function b(){$(window).innerHeight();$(".nhs-animatehtml").css("overflow-y","hidden"),$(".nhs-animate-inout").show(),$(".nhs-animate-inout").animate({"margin-top":"0"},1e3),setTimeout(function(){$(".nhs-animatehtml").css("overflow-y","scroll")},1e3)}var c={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return c.Android()||c.BlackBerry()||c.iOS()||c.Opera()||c.Windows()}};c.any()&&(FastClick.attach(document.body),$("input[autofocus]").removeAttr("autofocus")),a(),b(),$(".nhs-nav-btn").on("click",function(a){var b,c=$(this);a.preventDefault(),c.is("a")?(b=$(this).attr("href"),setTimeout(function(){window.location=b},1e3)):setTimeout(function(){c.closest("form").submit()},1e3),$(".nhs-body-container").animate({"margin-top":"1000px"},1e3)})}),function(a,b,c,d){function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init(),this.info="",this.className=""}var f="pwStrengthManager",g={password:"",blackList:[],minChars:"",maxChars:"",advancedStrength:!1};e.prototype={init:function(){if(zxcvbn)var b=!0;var c=this.customValidators();if(""==this.settings.password&&b)this.info="Cannot be empty",this.className="strength-weak";else if(0==c&&b){var d=zxcvbn(this.settings.password,this.settings.blackList),e=new RegExp("[A-Z]"),f=new RegExp("[a-z]"),g=new RegExp("[0-9]");d.score>=3&&this.settings.password.match(e)&&this.settings.password.match(f)&&this.settings.password.match(g)?(this.info="Very strong",this.className="strength-strong"):this.settings.password.match(e)&&this.settings.password.match(f)&&this.settings.password.match(g)?(this.info="Strong",this.className="strength-strong"):(this.info="Too weak",this.className="strength-weak")}a(this.element).html(this.info).removeClass().addClass(this.className)},minChars:function(){return this.settings.password.length<this.settings.minChars?(this.info="At least "+this.settings.minChars+" characters",!1):!0},customValidators:function(){var a=0;return""!=this.settings.minChars&&(this.minChars()||a++),a}},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f,new e(this,b))}),this}}(jQuery,window,document),$(function(){function a(a,b,c,d){g[d].setMap(f[d]);var e={origin:l,destination:b,travelMode:google.maps.TravelMode[a]};h[d].route(e,function(a,b){b==google.maps.DirectionsStatus.OK&&($(c).text(a.routes[0].legs[0].duration.text),g[d].setDirections(a))})}function b(){q=new google.maps.Geocoder}function c(){function a(a){var b=a.coords.latitude,d=a.coords.longitude,e=new google.maps.LatLng(b,d);q.geocode({latLng:e},function(a,e){if(e==google.maps.GeocoderStatus.OK)if(a[1]){for(var f,g=0;g<a[1].address_components.length;g++)for(var h=0;h<a[1].address_components[g].types.length;h++)if("postal_code"==a[1].address_components[g].types[h]){f=a[1].address_components[g].long_name;break}c.value=f,$.jStorage.set("currentLat",b),$.jStorage.set("currentLong",d),$.jStorage.set("currentPostCode",f)}else alert("No results found");else alert("Geocoder failed due to: "+e)}),$.cookie("gotLocation",!0,{path:"/"})}function b(){c.value="Unable to retrieve your location"}var c=document.getElementById("Location");return navigator.geolocation?(c.value="Locatingâ€¦",void navigator.geolocation.getCurrentPosition(a,b,{maximumAge:6e5})):void(c.value="Geolocation is not supported by your browser")}if($(".search-results__item").length>0){for(var d,e=5,f=[],g=[],h=[],i=$(".vacancy-link").length,j=$.cookie("gotLocation")?$.jStorage.get("currentLat"):Number($("#Latitude").val()),k=$.cookie("gotLocation")?$.jStorage.get("currentLong"):Number($("#Longitude").val()),l=new google.maps.LatLng(j,k),m=0;i>m;m++)g[m]=new google.maps.DirectionsRenderer({suppressMarkers:!0}),h[m]=new google.maps.DirectionsService;var n={center:{lat:j,lng:k},zoom:10,panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,scrollwheel:!1},o=new google.maps.Map(document.getElementById("map-canvas"),n),p={strokeColor:"#005ea5",strokeOpacity:.8,strokeWeight:2,fillColor:"#005ea5",fillOpacity:.25,map:o,center:n.center,radius:1609.344*e};d=new google.maps.Circle(p),$(".vacancy-link").each(function(){var a=$(this).closest(".search-results__item").find(".map")[0],b=$(this).attr("data-vac-lat"),c=$(this).attr("data-vac-long"),d=new google.maps.LatLng(b,c),e={zoom:10,center:d,mapTypeControl:!1,overviewMapControl:!1,panControl:!1,scaleControl:!1,scrollwheel:!1,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL}},g=new google.maps.Map(a,e);f.push(g);{var h=new google.maps.MarkerImage("../_assets/img/icon-location.png",null,null,null,new google.maps.Size(20,32));new google.maps.Marker({icon:h,position:d,map:g})}}),$(".select-mode").on("change",function(){var b=$(this),c=b.val(),d=b.closest(".search-results__item").find(".vacancy-link"),e=d.attr("data-vac-lat"),f=d.attr("data-vac-long"),g=new google.maps.LatLng(e,f),h=b.next(".journey-time"),i=b.closest(".search-results__item").index();a(c,g,h,i)}),$(".search-results__item .summary-style").on("click",function(b){var c=$(this),d=c.next(".detail-content").find(".select-mode option:selected").val(),e=c.closest(".search-results__item").find(".vacancy-link"),f=(c.closest(".search-results__item").find(".map"),e.attr("data-vac-lat")),g=e.attr("data-vac-long"),h=new google.maps.LatLng(f,g),i=c.next(".detail-content").find(".journey-time"),j=c.closest(".search-results__item").index();a(d,h,i,j)})}if($("#getLocation").length>0){var q;$("#getLocation").on("click",function(){c()}),google.maps.event.addDomListener(window,"load",b)}if($(".search-results__item").length>0&&$.cookie("gotLocation")){var r=$.jStorage.get("currentLat"),s=$.jStorage.get("currentLong"),t=$.jStorage.get("currentPostCode");$("#Latitude").val(r),$("#Longitude").val(s),$("#Location").val(t)}}),$(function(){$(".no-details").on("click keypress","summary",function(a){var b=$(this);(13===a.which||"click"===a.type)&&b.parent().toggleClass("open")})}),$(function(){function a(){var a=b.offset(),f=c.offset(),g=a.top-$(window).scrollTop(),h=f.top-$(window).scrollTop();e>g?$(".fixedsticky").addClass("sticky"):$(".fixedsticky").removeClass("sticky"),0>h?$(".fixedsticky").css("top",h+e+"px"):$(".fixedsticky").css("top",d)}if($(".fixedsticky").length>0){var b=$(".float-right-wrap"),c=$(".search-results__item:nth-last-child(2)"),d="23px",e=23;a(),$(window).scroll(a),$(window).resize(a)}});